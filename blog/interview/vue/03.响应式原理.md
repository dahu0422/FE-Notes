# 响应式原理

## Vue2 响应式原理
Vue2.x 采用数据劫持结合发布订阅模式（PubSub 模式）的方式，通过 Object.defineProperty 来劫持各个属性的 setter、getter，在数据变动时发布消息给订阅者，触发相应的监听回调。
1. 数据劫持：当 Vue 实例被创建时，会遍历 data 对象中的所有属性，并使用 `Object.definedProperty` 方法给每个属性添加 getter/setter。
2. 收集依赖：在组件渲染过程中，当访问或使用某个数据时，当前的watcher 实例会将其添加到该属性的依赖列表中。
3. 更新响应式数据：当数据属性被setter修改时，setter会便利属性的依赖列表，通知所有相关的watcher实例数据已变更，watcher 实例接收到通知后，会重新执行对应的渲染函数，从而触发试图的更新。